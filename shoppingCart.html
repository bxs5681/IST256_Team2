<!-- Group Member Tasks:
    Vedang - HTML (Page Structure), CSS (Page Style and Cosmetics), Bootstrap (Professional look), JavaScript (page behaviors and field integrity checks)
    Kyle - JSON Product Document (containing the details from the new/update product details form): the Shopping Cart Web Page. Show the Shopping Cart JSON document on the page.
    Binesh - jQuery (Search the product document collection for items to add to the shopping cart) Web Storefront: Shopping Cart Web Page,
    AJAX (transport the JSON document collection to a restful service API service) Web Storefront: Shopping Cart Web Page
    -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HiTech Store - Product Management</title>
    <!-- Homepage styling -->
    <link rel="stylesheet" href="Storefront_Page_Layout.css">
    <!-- Bootstrap page styling -->
    <link rel="stylesheet" href="bootstrap-5.3.8-dist/css/bootstrap.min.css">
    <!-- Script for productManagement validation -->
    <script src="productValidation.js"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- JSON handler (displays JSON after successful validation) -->
    <script src="productJSON.js" defer></script>

    <!-- Shopping Cart JavaScript -->
    <script src="shoppingCart.js"></script>

    <style>
        body {
            padding: 0;
            margin: 0;
        }

        /* Main headers */
        main h2 {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
            font-size: 1.8rem;
        }

        main h3 {
            color: #3498db;
            margin-bottom: 15px;
        }

        /* Nav */
        nav {
            flex: 1 1 15%;
        }

        /* Main */
        main {
            flex: 1 1 50%;
        }

        /* Form sections */
        .form-section {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }

        /* Aside */
        aside {
            flex: 1 1 30%;
            min-width: 300px;
            padding: 15px;
        }

        /* Cart items */
        .cart-item {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            background: #f9f9f9;
        }

        .cart-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        /* JSON output */
        #cartJsonSection {
            margin-top: 24px;
        }

        #cartJsonOutput {
            background-color: #f8f9fa;
            border: 1px solid #ccc;
            padding: 16px;
            border-radius: 8px;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
            white-space: pre-wrap;
        }

        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            width: 35px;
            height: 35px;
        }

        .cart-total {
            font-size: 1.2em;
            font-weight: bold;
            text-align: right;
            margin-top: 20px;
            padding-top: 15px;
            border-top: 2px solid #3498db;
        }
    </style>
</head>
<body>

<!-- Header -->
<header>
    <a href="index.html"> <img src="Images/HiTech Logo Transparent.png" alt="HiTech Store Logo"
                               style="height:150px; width: 150px; filter:hue-rotate(60deg)"> </a>
    <div>
        <h1>HiTech Store</h1>
        <p><em>Your one-stop shop for all tech gadgets</em></p>
    </div>
</header>

<!-- Main Layout -->
<div class="container">
    <!-- Navigation -->
    <nav>
        <ul style="padding-left: 10px;">
            <li><a href="index.html">Home</a></li>
            <li><a href="signup.html">Login</a></li>
            <li><a href="shopper.html">Shopper Management</a></li>
            <li><a href="products.html">Products</a></li>
            <li><a href="shoppingCart.html">Shopping Cart</a></li>
            <li><a href="handleReturns.html">Returns</a></li>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Contact Us</a></li>
        </ul>
    </nav>

    <!-- Main Section -->
    <main>
        <h2>Shopping Cart</h2>

        <!-- Product Search Section -->
        <div class="form-section">
            <h3>Search Products</h3>
            <div class="mb-3">
                <label for="productSearch" class="form-label"><strong>Search by Product ID or Description:</strong></label>
                <input type="text" class="form-control" id="productSearch"
                       placeholder="Enter Product ID or Description">
                <div class="error-message" id="productSearchError"></div>
            </div>
            <button type="button" class="btn btn-primary" id="searchButton">Search Products</button>
        </div>

        <!-- Search Results -->
        <div class="form-section" id="searchResultsSection" style="display: block;">
            <h3 id="resultsHeader">Available Products</h3>
            <div id="searchResults"></div>
        </div>

        <!-- Cart JSON Display -->
        <section id="cartJsonSection" class="form-section" style="display: none;">
            <h4>Shopping Cart JSON Document</h4>
            <div id="cartJsonOutput" aria-live="polite"></div>
        </section>
    </main>

    <!-- Aside -->
    <aside>
        <div class="form-section">
            <h3>Cart Summary</h3>
            <div id="cartSummary">
                <p><strong>Items in Cart:</strong> <span id="itemCount">0</span></p>
                <p><strong>Total Price:</strong> $<span id="totalPrice">0.00</span></p>
                <p><strong>Total Weight:</strong> <span id="totalWeight">0.00</span> lb</p>
            </div>
        </div>

        <!-- Shopping Cart Items -->
        <div class="form-section" id="cartSection">
            <h3>Your Cart Items</h3>
            <div id="cartItems">
                <p>Your cart is empty. Search for products above to add items to your cart.</p>
            </div>
            <div class="cart-total" id="cartTotal">
                Total: $0.00
            </div>
            <div class="mt-3">
                <button type="button" class="btn btn-success" id="checkoutButton" style="display: none;">
                    Proceed to Checkout
                </button>
                <button type="button" class="btn btn-danger" id="clearCartButton" style="display: none;">
                    Clear Cart
                </button>
            </div>
        </div>

    </aside>
</div>

<!-- Footer -->
<footer>
    <p><a href="#">Terms of Use</a> | <a href="#">Cookie Policy</a> | <a href="#">Privacy Policy</a></p>
    <p>&copy; 2025 HiTech Store. All Rights Reserved.</p>
</footer>

</body>
</html>